// https://onlinegdb.com/dXpqgLf8u
/**********************************************
 * Автор:    Халилов Н.Х.                      *
 * Дата:     10.11.2021                        *
 * Название: Каледарь в консоли                *
 ***********************************************/
#include <iostream>
#include <iomanip>
#include <fstream>
#include <time.h>
#include <string.h>

using namespace std;

int main() {
  time_t now;
  struct tm * timeinfo;
  int year, m, m1, m2, i, j;
  const char * month[] = {
    "Январь",
    "Февраль",
    "Март",
    "Апрель",
    "Май",
    "Июнь",
    "Июль",
    "Август",
    "Сентябрь",
    "Октябрь",
    "Ноябрь",
    "Декабрь"
  };

  cout << "ГОД: ";
  cin >> year;
  time( & now);
  timeinfo = localtime( & now);

  timeinfo -> tm_year = year - 1900;

  timeinfo -> tm_mon = 0;
  

  int step=0;
  int stepByWeeks = 0;
 for (int g=0; g<12; ++g){
        if (step == 0 || step == 3 || step == 6 || step == 9) {
        int space =  strlen(month[timeinfo -> tm_mon])/2; 
        cout << endl << setw(31 + space) << month[timeinfo -> tm_mon];
        timeinfo -> tm_mon = timeinfo -> tm_mon + 1;
        int space1 =  strlen(month[timeinfo -> tm_mon])/2; 
        cout <<" "<< setw(31 + space1) << month[timeinfo -> tm_mon];
        timeinfo -> tm_mon = timeinfo -> tm_mon + 1;
        int space2 =  strlen(month[timeinfo -> tm_mon])/2; 
        cout <<" "<< setw(31 + space2) << month[timeinfo -> tm_mon]  << endl;
        cout<< "_______________________________";
        cout<< " " << "_______________________________";
        cout<< " " << "_______________________________" << endl;
        cout << "  ВС  ПН  ВТ  СР  ЧТ  ПТ  СБ   ";
        cout << " " << "  ВС  ПН  ВТ  СР  ЧТ  ПТ  СБ   ";
        cout << " " <<  "  ВС  ПН  ВТ  СР  ЧТ  ПТ  СБ   " << endl;;
        cout << "_______________________________";
        cout <<  " " << "_______________________________";
        cout <<  " " << "_______________________________" << endl;
        }
        
    timeinfo -> tm_mon = step;
    timeinfo -> tm_mday = 1;
    mktime(timeinfo);
    
    for (j = 0; j < (timeinfo -> tm_wday); j++) cout <<setw(4) << " ";
   int yesterday = 0;
   for (i = 1; i <= 31; i++) {
      timeinfo -> tm_mon = step;
      timeinfo -> tm_mday = i;
      mktime(timeinfo);
      if (yesterday == 28 && timeinfo -> tm_mday == 1) {
          cout << endl;
          break;
      } else if (yesterday == 29 && timeinfo -> tm_mday == 1) {
          cout << endl;
          break;
      } else if (yesterday == 30 && timeinfo -> tm_mday == 1) {
          cout << endl;
          break;
      }
      cout << setw(4) << timeinfo -> tm_mday;
      yesterday = timeinfo -> tm_mday;
      if (timeinfo -> tm_mday == 31) {
          cout << endl;
          break;
       }
      
      if (timeinfo -> tm_wday == 6)
       cout << endl;
    }
    ++step;
  }


  

  
  return 0;
}
